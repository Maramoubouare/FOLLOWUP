import React, { createContext, useContext, useState } from 'react';

const translations = {
  en: {
    app_name: "FollowUp Suite",
    login: "Sign In",
    logout: "Logout",
    incidents: "Incident Log",
    new_incident: "Report Incident",
    edit_incident: "Edit Record",
    save: "Commit to Registry",
    gravite: "Severity",
    description: "Clinical Narrative",
    date: "Date of Event",
    time: "Time of Event",
    patient: "Patient ID",
    implant: "Implant Serial (ID)",
    processor: "Processor ID",
    physician: "Reporting Physician",
    status: "Status",
    landing_title: "The Gold Standard for Clinical Vigilance",
    landing_subtitle: "FollowUp empowers surgical teams with high-precision incident tracking, ensuring uncompromising compliance with international biomedical standards.",
    get_started: "Access the Suite",
    explore: "Explore Features",
    followup_history: "Follow-up History",
    followup_registry: "Follow-up Registry",
    followups: "Follow-ups",
    add_followup: "Add Follow-up",
    create_followup: "Create Follow-up",
    no_followups: "No follow-ups yet",
    type: "Type",
    recommendation: "Recommendation",
    action_type: "Action Type",
    actions: "Actions",
    view_history: "View History",
    clinical_description: "Clinical Description",
    new_record: "New Record",
    observation: "Observation",
    intervention: "Intervention",
    control: "Control",
    closure: "Closure",
    cancel: "Cancel",
    register_followup: "Register Follow-up",
    discard: "Discard",
    return_registry: "Return to Registry",
    back_incidents: "Back to Incidents",
    mandatory_fields: "Mandatory Regulatory Fields",
    narrative_evidence: "Narrative Evidence",
    save_changes: "Save Changes",
    register_incident: "Register Incident",
    minor: "Minor",
    moderate: "Moderate",
    critical_class_b: "Critical (Class B)",
    registry: "Registry",
    login_title: "Access Clinical Registry.",
    login_subtitle: "Secured access for authenticated surgical staff and biomedical engineers.",
    protocol_label: "Clinical Protocol 72-A",
    protocol_desc: "This system is monitored for IEC 62304 compliance. All login attempts and data access events are logged to the central audit registry.",
    system_auth: "System Authentication",
    auth_subtitle: "Enter your professional CHU credentials.",
    hospital_email: "Hospital Email Address",
    security_key: "Security Access Key",
    authenticate: "Authenticate Session",
    trouble_accessing: "Trouble accessing?",
    contact_it: "Contact IT Department",
    invalid_email: "Invalid hospital email format",
    email_required: "Email is required",
    key_required: "Security Key is required",
    invalid_credentials: "Invalid credentials or unauthorized personnel",
    features: "Features",
    compliance: "Compliance",
    contact: "Contact",
    v42_live: "v4.2 Incident Intelligence Now Live",
    gold_standard: "Gold Standard",
    landing_desc: "Empower your surgical teams with high-precision tracking, real-time analytics, and uncompromising IEC 62304 compliance.",
    interface_label: "Medical Registry Interface",
    validated_standards: "Validated for International Biomedical Standards",
    built_critical_care: "Built for Critical Care",
    precision_instrument: "FollowUp isn't just a database; it's a precision instrument designed for surgical excellence and regulatory peace of mind.",
    feature1_title: "Class B Triage",
    feature1_desc: "Automatic categorization of device failures based on surgical risk and patient safety parameters.",
    feature2_title: "Neural Analytics",
    feature2_desc: "Predictive modeling for implant migration and hardware fatigue before they become clinical events.",
    feature3_title: "Full Traceability",
    feature3_desc: "Immutable audit trails from surgery to resolution, meeting the most stringent legal requirements.",
    pioneering_future: "Pioneering the future of clinical vigilance for surgical departments worldwide.",
    platform: "Platform",
    implant_tracker: "Implant Tracker",
    safety_reports: "Safety Reports",
    api_docs: "API Docs",
    legal: "Legal",
    privacy: "Privacy",
    iso_certs: "ISO Certs",
    ethics: "Ethics",
    copyright: "© 2024 FollowUp Clinical Systems. Produced for CHU de Montpellier Surgery Units.",
  },
  fr: {
    app_name: "Suite FollowUp",
    login: "Connexion",
    logout: "Déconnexion",
    incidents: "Registre d'Incidents",
    new_incident: "Signaler un Incident",
    edit_incident: "Modifier le Dossier",
    save: "Enregistrer au Registre",
    gravite: "Gravité",
    description: "Constats Cliniques",
    date: "Date de l'Incident",
    time: "Heure de l'Incident",
    patient: "ID Patient",
    implant: "S/N Implant",
    processor: "ID Processeur",
    physician: "Médecin Rapporteur",
    status: "Statut",
    landing_title: "Le Standard d'Excellence en Vigilance Clinique",
    landing_subtitle: "FollowUp permet aux équipes chirurgicales d'assurer un suivi précis des incidents, garantissant une conformité totale aux normes biomédicales internationales.",
    get_started: "Accéder à la Suite",
    explore: "Découvrir les fonctionnalités",
    followup_history: "Historique de Suivi",
    followup_registry: "Registre des Suivis",
    followups: "Suivis",
    add_followup: "Ajouter un Suivi",
    create_followup: "Créer un Suivi",
    no_followups: "Aucun suivi pour le moment",
    type: "Type",
    recommendation: "Recommandation",
    action_type: "Type d'Action",
    actions: "Actions",
    view_history: "Voir l'Historique",
    clinical_description: "Description Clinique",
    new_record: "Nouveau Dossier",
    observation: "Observation",
    intervention: "Intervention",
    control: "Contrôle",
    closure: "Clôture",
    cancel: "Annuler",
    register_followup: "Enregistrer le Suivi",
    discard: "Abandonner",
    return_registry: "Retour au Registre",
    back_incidents: "Retour aux Incidents",
    mandatory_fields: "Champs réglementaires obligatoires",
    narrative_evidence: "Preuve narrative",
    save_changes: "Enregistrer les modifications",
    register_incident: "Enregistrer l'incident",
    minor: "Mineur",
    moderate: "Modéré",
    critical_class_b: "Critique (Classe B)",
    registry: "Registre",
    login_title: "Accéder au Registre Clinique.",
    login_subtitle: "Accès sécurisé pour le personnel chirurgical authentifié et les ingénieurs biomédicaux.",
    protocol_label: "Protocole Clinique 72-A",
    protocol_desc: "Ce système est surveillé pour la conformité IEC 62304. Toutes les tentatives de connexion et les accès aux données sont enregistrés dans le registre central d'audit.",
    system_auth: "Authentification Système",
    auth_subtitle: "Entrez vos identifiants professionnels du CHU.",
    hospital_email: "Adresse Email de l'Hôpital",
    security_key: "Clé d'Accès de Sécurité",
    authenticate: "Authentifier la Session",
    trouble_accessing: "Problème d'accès ?",
    contact_it: "Contacter le Département IT",
    invalid_email: "Format d'email hospitalier invalide",
    email_required: "L'email est obligatoire",
    key_required: "La clé de sécurité est obligatoire",
    invalid_credentials: "Identifiants invalides ou personnel non autorisé",
    features: "Fonctionnalités",
    compliance: "Conformité",
    contact: "Contact",
    v42_live: "v4.2 Incident Intelligence est maintenant en ligne",
    gold_standard: "Standard d'Excellence",
    landing_desc: "Donnez à vos équipes chirurgicales les moyens d'un suivi de haute précision, d'analyses en temps réel et d'une conformité IEC 62304 sans compromis.",
    interface_label: "Interface du Registre Médical",
    validated_standards: "Validé selon les Normes Biomédicales Internationales",
    built_critical_care: "Conçu pour les Soins Critiques",
    precision_instrument: "FollowUp n'est pas seulement une base de données ; c'est un instrument de précision conçu pour l'excellence chirurgicale et la sérénité réglementaire.",
    feature1_title: "Triage de Classe B",
    feature1_desc: "Catégorisation automatique des défaillances de dispositifs basée sur le risque chirurgical et les paramètres de sécurité des patients.",
    feature2_title: "Analyses Neuronales",
    feature2_desc: "Modélisation prédictive de la migration des implants et de la fatigue du matériel avant qu'ils ne deviennent des événements cliniques.",
    feature3_title: "Traçabilité Complète",
    feature3_desc: "Pistes d'audit immuables de la chirurgie à la résolution, répondant aux exigences légales les plus strictes.",
    pioneering_future: "Pionnier de l'avenir de la vigilance clinique pour les services de chirurgie du monde entier.",
    platform: "Plateforme",
    implant_tracker: "Suivi d'Implant",
    safety_reports: "Rapports de Sécurité",
    api_docs: "Docs API",
    legal: "Légal",
    privacy: "Confidentialité",
    iso_certs: "Certs ISO",
    ethics: "Éthique",
    copyright: "© 2024 FollowUp Clinical Systems. Produit pour les unités de chirurgie du CHU de Montpellier.",
  },
};

const I18nContext = createContext(null);

export const I18nProvider = ({ children }) => {
  const [lng, setLng] = useState('en');
  const t = (key) => translations[lng]?.[key] || key;

  return (
    <I18nContext.Provider value={{ t, lng, setLng }}>
      {children}
    </I18nContext.Provider>
  );
};

export const useTranslation = () => {
  const context = useContext(I18nContext);
  if (!context) {
    throw new Error('useTranslation must be used within an I18nProvider');
  }
  return context;
};
